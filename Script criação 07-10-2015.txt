-- MySQL Workbench Synchronization
-- Generated: 2015-10-07 16:50
-- Model: New Model
-- Version: 1.0
-- Project: Name of the project
-- Author: Diego Sabino

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

CREATE TABLE IF NOT EXISTS `bd_gestaoescola`.`GES_ALUNO` (
  `ALU_COD` INT(11) NOT NULL,
  `ALU_SERIE` VARCHAR(45) NULL DEFAULT NULL,
  `ALU_IDADE` INT(11) NULL DEFAULT NULL,
  `ALU_NUMERO` INT(11) NULL DEFAULT NULL,
  `PES_COD` INT(11) NULL DEFAULT NULL,
  PRIMARY KEY (`ALU_COD`),
  UNIQUE INDEX `PES_COD_UNIQUE` (`PES_COD` ASC),
  CONSTRAINT `PES_COD`
    FOREIGN KEY (`PES_COD`)
    REFERENCES `bd_gestaoescola`.`GES_PESSOA` (`PES_COD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci;

CREATE TABLE IF NOT EXISTS `bd_gestaoescola`.`GES_PESSOA` (
  `PES_COD` INT(11) NOT NULL,
  `PES_NOME` VARCHAR(100) NULL DEFAULT NULL,
  `PES_CPF` CHAR(11) NULL DEFAULT NULL,
  `PES_RG` VARCHAR(15) NULL DEFAULT NULL,
  `PES_TIPO` CHAR(1) NULL DEFAULT NULL,
  `PES_TELEFONE` VARCHAR(20) NULL DEFAULT NULL,
  `PES_CELULAR` VARCHAR(20) NULL DEFAULT NULL,
  `PES_DATA_NASCIMENTO` DATE NULL DEFAULT NULL,
  `PES_ENDERECO` VARCHAR(100) NULL DEFAULT NULL,
  `PES_CIDADE` VARCHAR(45) NULL DEFAULT NULL,
  `PES_BAIRRO` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`PES_COD`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci;

CREATE TABLE IF NOT EXISTS `bd_gestaoescola`.`GES_FUNCIONARIO` (
  `FUN_COD` INT(11) NOT NULL,
  `FUN_FUNCAO` VARCHAR(45) NULL DEFAULT NULL,
  `FUN_DATA_CONTRATACAO` DATE NULL DEFAULT NULL,
  `FUN_PES_COD` INT(11) NULL DEFAULT NULL,
  `FUN_NUMERO` INT(11) NULL DEFAULT NULL,
  PRIMARY KEY (`FUN_COD`),
  INDEX `PES_COD_idx` (`FUN_PES_COD` ASC),
  CONSTRAINT `FUN_PES_COD`
    FOREIGN KEY (`FUN_PES_COD`)
    REFERENCES `bd_gestaoescola`.`GES_PESSOA` (`PES_COD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci;

CREATE TABLE IF NOT EXISTS `bd_gestaoescola`.`GES_CLIENTE` (
  `CLI_COD` INT(11) NOT NULL,
  `CLI_NUMERO` INT(11) NULL DEFAULT NULL,
  `CLI_ALU_COD` INT(11) NULL DEFAULT NULL,
  `CLI_PES_COD` INT(11) NULL DEFAULT NULL,
  PRIMARY KEY (`CLI_COD`),
  INDEX `CLI_PES_COD_idx` (`CLI_PES_COD` ASC),
  INDEX `CLI_ALU_COD_idx` (`CLI_ALU_COD` ASC),
  CONSTRAINT `CLI_ALU_COD`
    FOREIGN KEY (`CLI_ALU_COD`)
    REFERENCES `bd_gestaoescola`.`GES_ALUNO` (`ALU_COD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `CLI_PES_COD`
    FOREIGN KEY (`CLI_PES_COD`)
    REFERENCES `bd_gestaoescola`.`GES_PESSOA` (`PES_COD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci;

CREATE TABLE IF NOT EXISTS `bd_gestaoescola`.`GES_PAGAMENTO` (
  `PAG_COD` INT(11) NOT NULL,
  `PAG_NUMERO` INT(11) NULL DEFAULT NULL,
  `PAG_PLANO` CHAR(1) NULL DEFAULT NULL,
  `PAG_REGULAR` CHAR(1) NULL DEFAULT NULL,
  `PAG_FORMA` VARCHAR(20) NULL DEFAULT NULL,
  `CLI_COD` INT(11) NULL DEFAULT NULL,
  `PES_VALOR` DECIMAL(18,2) NULL DEFAULT NULL,
  PRIMARY KEY (`PAG_COD`),
  INDEX `CLI_COD_idx` (`CLI_COD` ASC),
  CONSTRAINT `CLI_COD`
    FOREIGN KEY (`CLI_COD`)
    REFERENCES `bd_gestaoescola`.`GES_CLIENTE` (`CLI_COD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci;

CREATE TABLE IF NOT EXISTS `bd_gestaoescola`.`GES_USUARIO` (
  `USU_COD` INT(11) NOT NULL,
  `USU_LOGIN` VARCHAR(45) NULL DEFAULT NULL,
  `USU_SENHA` VARCHAR(45) NULL DEFAULT NULL,
  `FUN_COD` INT(11) NULL DEFAULT NULL,
  PRIMARY KEY (`USU_COD`),
  INDEX `FUN_COD_idx` (`FUN_COD` ASC),
  CONSTRAINT `FUN_COD`
    FOREIGN KEY (`FUN_COD`)
    REFERENCES `bd_gestaoescola`.`GES_FUNCIONARIO` (`FUN_COD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
